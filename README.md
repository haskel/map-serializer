Map Serializer
==================

The library allows you to serialize some struct using mapping schemas.

## Installation
```bash
composer require haskel/map-serializer
```

## Usage
### Basic usage
```php
use Haskel\MapSerializer\Serializer;

$serializer = new Serializer();

$schemas = [
    'default' => [
        'id'     => 'int',
        'name'   => 'string',
        'status' => 'int',
        'role'   => 'string',
    ],
    'short' => [
        'id'   => 'int',
        'name' => 'string',
    ]
];
foreach ($orderSchemas as $schemaName => $schema) {
    $serializer->addSchema(User::class, $schemaName, $schema);
}

$users = [
    new User('Alice'),
    new User('Bob'),
];
$result = $serializer->serialize($users);

```

### Use specific schema
Use second argument of `serialize()` method to specify a schema
```php
use Haskel\MapSerializer\Serializer;

$serializer = new Serializer();

$schemas = [
    'default' => [
        'id'     => 'int',
        'name'   => 'string',
        'status' => 'int',
        'role'   => 'string',
    ],
    'short' => [
        'id'   => 'int',
        'name' => 'string',
    ]
];
foreach ($orderSchemas as $schemaName => $schema) {
    $serializer->addSchema(User::class, $schemaName, $schema);
}

$users = [
    new User('Alice'),
    new User('Bob'),
];
$result = $serializer->serialize($users, 'short');

```


<br><br>
##Formatters
Formatter is an object which define specific transformation rules for entity. 
Formatter should implement `Haskel\MapSerializer\Formatter` interface

```php
use Haskel\MapSerializer\Formatter\DatetimeFormatter;
use Haskel\MapSerializer\Serializer;

$serializer = new Serializer();
$serializer->addFormatter(new DatetimeFormatter());
```


##Extractors
Extractors are autogenerated classes that help you to extract fields from an object of some class.
